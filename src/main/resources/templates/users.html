<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>User Index</title>

	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>

</head>

<body>
	<div class="container-fluid">


		<h1>User list</h1>
<!--		<ul>-->
<!--			<li th:each="user : ${users}">-->

<!--				<p th:text="${user.login}"></p>-->
<!--			</li>-->
<!--		</ul>-->
		<form method="get" action="user" th:action="@{/users/search}" th:object="${users}">
			<div class="input-group mb-3 w-25 ">
				<input type="text" id="searchByLogin"name="searchByLogin" th:value="${searchByLogin}" class="form-control"
					placeholder="User's Login" aria-label="User's Login" aria-describedby="button-addon2">
				<button class="btn btn-outline-secondary" type="submit">Search</button>
		</form>

	</div>
	<table class="table table-primary">
		<thead>
			<tr>
				<th scope="col"> Id </th>
				<th scope="col"> Login </th>
				<th scope="col">Password </th>
				<th scope="col">Number of connections</th>
				<th scope="col">Actions </th>
			</tr>
		</thead>
		<tbody>
			<tr scope="row" th:if="${users.empty}">
				<td colspan="5"> No Users Available </td>
			</tr>
			<tr scope="row" th:each="user : ${users}">
				<td><span th:text="${user.idUser}"> </span></td>
				<td><span th:text="${user.login}"> </span></td>
				<td><span th:text="${user.password}"> </span></td>
				<td><span th:text="${user.connectionNumber}"> </span></td>
				<td>

					<a class="link-dark" th:href="@{/users/delete(id=${user.idUser})}"><button
							class="btn btn-danger">Delete</button></a>
					<a th:href="@{/users/update(id=${user.idUser})}"><button
							class="btn btn-primary">Update</button><a />
				</td>
			</tr>
		</tbody>
	</table>

	<a class="link-dark" th:href="@{/users/create}"> <button class="btn btn-success">Create an User</button></a>

	</div>
</body>

</html>